<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>URL Parameter Reader</title>
</head>
<body>
<table width="612" border="0">
    <tbody>
    <tr>
        <td>
            <span style="text-align: center"></span><span style="text-align: center"></span><img src="spies.png" alt="Spies in KL">
        </td>
    </tr>
    <tr>
        <td style="text-align: center; font-family: 'Gill Sans', 'Gill Sans MT', 'Myriad Pro', 'DejaVu Sans Condensed', Helvetica, Arial, sans-serif; font-weight: normal; font-size: 24px;">CERTIFICATE OF PARTICIPATION</td>
    </tr>
    <tr>
        <td><p style="text-align: center"><strong id="name"  style="font-family: 'Gill Sans', 'Gill Sans MT', 'Myriad Pro', 'DejaVu Sans Condensed', Helvetica, Arial, sans-serif; font-weight: bold; text-align: center;">Loading...</strong></p>
            <p style="font-family: 'Gill Sans', 'Gill Sans MT', 'Myriad Pro', 'DejaVu Sans Condensed', Helvetica, Arial, sans-serif; text-align: center;">In recognition of your coding at the KL Coding Cup. </p>
            <p style="font-family: 'Gill Sans', 'Gill Sans MT', 'Myriad Pro', 'DejaVu Sans Condensed', Helvetica, Arial, sans-serif; text-align: center;">This international event attracts the very best students from around South East Asia to compete for KL Coding Cup.</p>
    </tr>
    <tr>
        <td>
            <table width="612" border="0">
                <tbody>
                <tr>
                    <td style="font-family: 'Gill Sans', 'Gill Sans MT', 'Myriad Pro', 'DejaVu Sans Condensed', Helvetica, Arial, sans-serif; text-align: left;">
                        <p>Awarded by Mr Abela</p>
                    </td>
                    <td style="font-family: 'Gill Sans', 'Gill Sans MT', 'Myriad Pro', 'DejaVu Sans Condensed', Helvetica, Arial, sans-serif; text-align: right;">
                        <p id="myDate">date</p>
                    </td>
                </tr>
                </tbody>
            </table>
        </td>
    </tr>
    <tr>
        <td>
            <img src="chipfoot.png" alt="colourful footer">
        </td>
    </tr>
    </tbody>
</table>

<script>
    // https://jamesabela.github.io/cert/klcc.html?name=James%20Abela
    // Wait for the DOM to be fully loaded
    document.addEventListener('DOMContentLoaded', function () {
        // Function to get the value of a URL parameter
        function getURLParameter(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        function formatDate(date) {
            let day = date.getDate();
            let month = date.getMonth() + 1; // Months are zero-based
            let year = date.getFullYear();

            // Add a leading zero to day and month if they are less than 10
            day = day < 10 ? '0' + day : day;
            month = month < 10 ? '0' + month : month;

            return day + '/' + month + '/' + year;
        }


        // Get the 'param' parameter from the URL
        const nameValue = getURLParameter('name');
        // Display the value in the webpage
        const outputElement = document.getElementById('name');
            outputElement.textContent = nameValue
        const today = new Date();
        document.getElementById("myDate").innerHTML = "on the date of: "+formatDate(today);
    });
</script>
</body>
</html>
